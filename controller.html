<!DOCTYPE html>
<html>
<head>
    <title>Notion Player Controller</title>
    <style>
        body {
            margin: 0;
            padding: 10px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            font-size: 14px;
            color: #37352f;
        }
        .status {
            padding: 8px;
            border-radius: 4px;
            background: #f1f1f0;
            margin-bottom: 10px;
        }
        .bookmarklet {
            display: inline-block;
            padding: 8px 16px;
            background: #2eaadc;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            margin: 10px 0;
        }
        .instructions {
            margin-top: 15px;
            padding: 10px;
            background: #f7f6f3;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="status">控制器已加载</div>
    <a href="javascript:(function(){
        const mp3Links = document.querySelectorAll('a[href*=\'.mp3\']');
        mp3Links.forEach(link => {
            link.onclick = function(e) {
                e.preventDefault();
                const playerFrame = document.querySelector('iframe[src*=\'13594350363.github.io/notion-music-player\']');
                if (playerFrame) {
                    playerFrame.contentWindow.postMessage({
                        type: 'ADD_AUDIO',
                        url: this.href,
                        title: this.textContent || this.href.split('/').pop()
                    }, '*');
                }
            };
        });
        alert('播放控制已启用！');
    })()" class="bookmarklet">点击启用播放控制</a>
    
    <div class="instructions">
        <p>使用说明：</p>
        <ol>
            <li>将上面的按钮拖到书签栏</li>
            <li>在 Notion 页面点击该书签</li>
            <li>然后点击 MP3 文件即可添加到播放列表</li>
        </ol>
    </div>
</body>
</html>